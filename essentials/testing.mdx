---
title: "Testing"
description: "Best practices for testing your Orafi integration"
---

# Testing Your Integration

Learn how to thoroughly test your Orafi integration before going live.

## Test Environment Setup

Use the test environment for all development and testing:

- **Base URL**: `https://test.api.orafi.com`
- **API Keys**: Use test keys that start with `ora_test_`

## Test Scenarios

### Payment Testing

Test different payment scenarios:

1. **Successful Payment**
   - Create a payment
   - Simulate sending crypto to the deposit address
   - Verify payment confirmation

2. **Failed Payment**
   - Test insufficient funds
   - Test expired payments
   - Test invalid addresses

3. **Edge Cases**
   - Large amounts
   - Small amounts
   - Different cryptocurrencies

### Webhook Testing

1. **Set up test webhooks**
   - Use ngrok or similar for local testing
   - Test all event types
   - Verify signature validation

2. **Test retry logic**
   - Simulate webhook failures
   - Test duplicate event handling

### API Testing

1. **Authentication**
   - Test valid/invalid API keys
   - Test expired keys

2. **Rate Limiting**
   - Test request limits
   - Implement backoff strategies

3. **Error Handling**
   - Test all error responses
   - Verify error message formats

## Testing Tools

### Postman Collection

Use our Postman collection for API testing:

[Download Orafi Test Collection](https://api.orafi.com/postman)

### Test Data

Use these test values for consistent testing:

- **Test Amount**: 10000 (represents $10.00)
- **Test Email**: test@example.com
- **Test txRef**: test_tx_123

### Automated Testing

Set up automated tests for your integration:

```javascript
describe('Orafi Payment Integration', () => {
  test('creates payment successfully', async () => {
    const response = await createPayment({
      amount: 10000,
      customer: { email: 'test@example.com' },
      txRef: 'test_tx_123'
    });
    
    expect(response.success).toBe(true);
    expect(response.data.id).toBeDefined();
  });
  
  test('handles payment verification', async () => {
    const result = await verifyPayment('pay_test_123');
    expect(result.data.status).toBeDefined();
  });
});
```

## Go-Live Checklist

Before switching to production:

- [ ] All unit tests pass
- [ ] Integration tests pass in test environment
- [ ] Webhooks configured and tested
- [ ] Error handling implemented
- [ ] Rate limiting handled
- [ ] API keys rotated to live keys
- [ ] Base URL changed to production
- [ ] Monitoring and logging set up

## Common Testing Mistakes

1. **Testing in production**: Never test with real money
2. **Ignoring edge cases**: Test failure scenarios
3. **Not testing webhooks**: Webhooks are critical for real-time updates
4. **Skipping error handling**: Your app must handle API failures gracefully